<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>linux on æ‰“å·¥äººæ—¥å¿—</title><link>https://www.jobcher.com/tags/linux/</link><description>Recent content in linux on æ‰“å·¥äººæ—¥å¿—</description><generator>Hugo -- gohugo.io</generator><language>zh-hans</language><copyright>Copyright Â© 2022-{year} All Rights Reserved.</copyright><lastBuildDate>Sun, 07 Sep 2025 01:35:00 +0000</lastBuildDate><atom:link href="https://www.jobcher.com/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>ä½¿ç”¨TLSv1.3 å‡çº§nginxå’Œopenssl</title><link>https://www.jobcher.com/nginx07/</link><pubDate>Tue, 22 Jul 2025 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx07/</guid><description>ä»‹ç» TLS v1.3ï¼ˆTransport Layer Security version 1.3ï¼‰æ˜¯ä¼ è¾“å±‚å®‰å…¨åè®®çš„æœ€æ–°æ­£å¼ç‰ˆæœ¬ï¼Œç”¨äºåœ¨è®¡ç®—æœºç½‘ç»œä¸­æä¾›åŠ å¯†é€šä¿¡ã€‚å®ƒç”± IETFï¼ˆInternet Engineering Task Forceï¼‰ äº 2018 å¹´ 8 æœˆæ­£å¼å‘å¸ƒï¼Œæ˜¯å¯¹ TLS v1.2 çš„é‡å¤§æ”¹è¿›ã€‚
ç”±äºåŸæœ‰è€çš„nginxç‰ˆæœ¬ä¸æ”¯æŒæ–°çš„TLSv1.3,éœ€è¦å‡çº§nginxå’Œopensslã€‚
ğŸ” TLS çš„ç”¨é€” TLS å¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š
HTTPSï¼ˆæµè§ˆå™¨è®¿é—®ç½‘ç«™ï¼‰ é‚®ä»¶å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é€šä¿¡ï¼ˆå¦‚ IMAP/SMTP over TLSï¼‰ VPNã€èŠå¤©å·¥å…·ç­‰éœ€è¦å®‰å…¨ä¼ è¾“çš„åœºåˆ âœ¨ ç›¸æ¯” TLS 1.2ï¼ŒTLS 1.3 æœ‰å“ªäº›ä¸»è¦æ”¹è¿›ï¼Ÿ ç‰¹æ€§ TLS 1.2 TLS 1.3 æ¡æ‰‹è½®æ•° è‡³å°‘ 2 æ¬¡å¾€è¿” æœ€å¤š 1 æ¬¡å¾€è¿”ï¼Œæ”¯æŒ 0-RTT åŠ å¯†å¥—ä»¶ å¤šä¸”å¤æ‚ï¼ŒåŒ…å«å¼±ç®—æ³• ç®€åŒ–ï¼Œä»…æ”¯æŒå¼ºåŠ å¯†ç®—æ³• å‰å‘ä¿å¯† å¯é€‰ å¼ºåˆ¶å¯ç”¨ åŠ å¯†å†…å®¹ ä¸€éƒ¨åˆ†æœªåŠ å¯† æ¡æ‰‹åæ‰€æœ‰å†…å®¹éƒ½åŠ å¯†ï¼ŒåŒ…æ‹¬è¯ä¹¦ å®‰å…¨æ€§ å­˜åœ¨æ—§æ¼æ´ï¼ˆå¦‚ BEASTã€POODLEï¼‰ ç§»é™¤å·²çŸ¥ä¸å®‰å…¨ç‰¹æ€§ æ€§èƒ½ è¾ƒæ…¢ æ›´å¿«ï¼ˆç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨ç½‘ç»œï¼‰ ğŸ”§ ç§»é™¤çš„å†…å®¹ï¼ˆç›¸æ¯” TLS 1.2ï¼‰ RSA å¯†é’¥äº¤æ¢ï¼ˆåªä¿ç•™ ECDHE/DHEï¼‰ ä¸å®‰å…¨çš„åŠ å¯†ç®—æ³•ï¼ˆå¦‚ RC4ã€3DESã€MD5ï¼‰ é™æ€å¯†é’¥åå•†ã€ä¸å†æ”¯æŒéå‰å‘ä¿å¯† ä¼šè¯æ¢å¤æœºåˆ¶è¢«ç®€åŒ–ä¸ºåŸºäºç¥¨æ®ï¼ˆsession ticketsï¼‰ âœ… TLS 1.</description></item><item><title>nginx é…ç½®å’Œç¼–è¯‘</title><link>https://www.jobcher.com/nginx06/</link><pubDate>Thu, 20 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx06/</guid><description>nginx è‡ªç¼–è¯‘ nginxå®˜ç½‘
ä¸‹è½½nginx-&amp;gt;Configure-&amp;gt;ç¼–è¯‘-&amp;gt;å®‰è£…
ä¸‹è½½nginx 1wget https://nginx.org/download/nginx-1.24.0.tar.gz è§£å‹ç›®å½•
1tar -zxvf nginx-1.24.0.tar.gz ç¼–è¯‘æœ€æ–°çš„ nginx,å¹¶å¤‡ä»½æ—§çš„äºŒè¿›åˆ¶æ–‡ä»¶ 1cd nginx-1.24.0 2./configure &amp;amp;&amp;amp; make 3mv /path/to/nginx /path/to/nginx.bak è¦†ç›–æ—§çš„äºŒè¿›åˆ¶æ–‡ä»¶ 1cp /path/to/nginx /path/to/nginx æ‰§è¡Œå¹³æ»‘é‡å¯ 1nginx -s reopen è§‚å¯ŸnginxæœåŠ¡æ˜¯å¦æœ‰ä¸­æ–­,å¦‚æœæ­£å¸¸åˆ™åˆ é™¤å¤‡ä»½æ–‡ä»¶ 1rm /path/to/nginx.bak</description></item><item><title>nginx ssh-key connection exception</title><link>https://www.jobcher.com/nginx05/</link><pubDate>Wed, 15 Jun 2022 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx05/</guid><description>nginx ssh-key connection exception Not long ago, I wanted to restart the company&amp;rsquo;s gitlab server.I couldn&amp;rsquo;t coonect to ssh when it restarted.emmâ€¦â€¦I try copy the ssh rsa.pub,but it didn&amp;rsquo;t work.
error log:
identity_sign: private key ~/.ssh/id_rsa contents do not match public what is happenï¼Ÿ
solution reconfigure gitlab ssh key!
create new ssh key 1ssh-keygen -t rsa -C &amp;#39;git@gitlab.com&amp;#39; -f ~/.ssh/gitlab-rsa update config file,enter ~./ssh,open config 1# add host 2Host gitlab.com 3 HostName gitlab.</description></item><item><title>centos7.9 ç½‘ç»œé…ç½®</title><link>https://www.jobcher.com/linux-network/</link><pubDate>Tue, 11 Jan 2022 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/linux-network/</guid><description>centos7.9 ç½‘ç»œé…ç½® è§£å†³ centos æ–°æœºå™¨ç½‘ç»œä¸é€šçš„é—®é¢˜ï¼ŒCentOS7 é»˜è®¤ä¸å¯åŠ¨ç½‘å¡çš„ã€‚CentOS å®‰è£…æˆåŠŸå,è¿›è¡Œä¸€ä¸‹ ping çš„æ“ä½œ,éªŒè¯ç½‘ç»œæ˜¯å¦è”é€š.
1ping 1.1.1.1 2ip addr 3# æŸ¥çœ‹ipç½‘ç»œåç§° å¯ç”¨ç½‘å¡ è¿›å…¥ /etc/sysconfig/network-scipts æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰¾åˆ° IP ç½‘å¡åç§° 1cd /etc/sysconfig/network-scipts 2vim ifcfg-eth0 å¯ç”¨ ONBOOT 1#vim ifcfg-eth0 2#ä¿®æ”¹ 3ONBOOT=YES 4# esc å¹¶:wqé€€å‡ºä¿å­˜ é‡å¯æœºå™¨ 1shutdown -r now ç»“å°¾ centos ç”¨çš„æŒºåˆ«æ‰­ï¼Œä¸è€ƒè™‘æ€§èƒ½å’Œæ€§ä»·æ¯”ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢ç”¨ ubuntuâ€¦â€¦ï¼Œç®€å•çš„é…ç½®ï¼Œåˆå­¦è€…æˆ‘å»ºè®®è¿˜æ˜¯å…ˆç”¨ ubuntuï¼Œä¼šå°‘è¸©å¾ˆå¤šå‘ã€‚å½“ç„¶äº†ï¼Œç”¨ x86 ä¸ç„¶åˆå­¦è€…ç”¨æ ‘è“æ´¾å’Œ arm è®¾å¤‡ï¼Œä¼šç¢°åˆ°å¾ˆå¤šå…¼å®¹æ€§çš„é—®é¢˜ã€‚</description></item><item><title>nginx ç¼–è¯‘å‚æ•°è¯¦è§£</title><link>https://www.jobcher.com/nginx02/</link><pubDate>Fri, 24 Dec 2021 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx02/</guid><description>nginx ç¼–è¯‘å‚æ•°è¯¦è§£ nginx ç¼–è¯‘å‚æ•° ä½œç”¨ â€“prefix= æŒ‡å‘å®‰è£…ç›®å½• â€“sbin-path æŒ‡å‘ï¼ˆæ‰§è¡Œï¼‰ç¨‹åºæ–‡ä»¶ï¼ˆnginxï¼‰ â€“conf-path= æŒ‡å‘é…ç½®æ–‡ä»¶ï¼ˆnginx.confï¼‰ â€“error-log-path= æŒ‡å‘é”™è¯¯æ—¥å¿—ç›®å½• â€“pid-path= æŒ‡å‘ pid æ–‡ä»¶ï¼ˆnginx.pidï¼‰ â€“lock-path= æŒ‡å‘ lock æ–‡ä»¶ï¼ˆnginx.lockï¼‰ï¼ˆå®‰è£…æ–‡ä»¶é”å®šï¼Œé˜²æ­¢å®‰è£…æ–‡ä»¶è¢«åˆ«äººåˆ©ç”¨ï¼Œæˆ–è‡ªå·±è¯¯æ“ä½œã€‚ï¼‰ â€“user= æŒ‡å®šç¨‹åºè¿è¡Œæ—¶çš„éç‰¹æƒç”¨æˆ· â€“group= æŒ‡å®šç¨‹åºè¿è¡Œæ—¶çš„éç‰¹æƒç”¨æˆ·ç»„ â€“builddir= æŒ‡å‘ç¼–è¯‘ç›®å½• â€“with-rtsig_module å¯ç”¨ rtsig æ¨¡å—æ”¯æŒï¼ˆå®æ—¶ä¿¡å·ï¼‰ â€“with-select_module å¯ç”¨ select æ¨¡å—æ”¯æŒï¼ˆä¸€ç§è½®è¯¢æ¨¡å¼,ä¸æ¨èåœ¨é«˜è½½ç¯å¢ƒä¸‹ä½¿ç”¨ï¼‰ç¦ç”¨ï¼šâ€“withoutselect_module â€“with-poll_module å¯ç”¨ poll æ¨¡å—æ”¯æŒï¼ˆåŠŸèƒ½ä¸ select ç›¸åŒï¼Œä¸ select ç‰¹æ€§ç›¸åŒï¼Œä¸ºä¸€ç§è½®è¯¢æ¨¡å¼,ä¸æ¨èåœ¨é«˜è½½ç¯å¢ƒä¸‹ä½¿ç”¨ï¼‰ â€“with-file-aio å¯ç”¨ file aio æ”¯æŒï¼ˆä¸€ç§ APL æ–‡ä»¶ä¼ è¾“æ ¼å¼ï¼‰ â€“with-ipv6 å¯ç”¨ ipv6 æ”¯æŒ â€“with-http_ssl_module å¯ç”¨ ngx_http_ssl_module æ”¯æŒï¼ˆä½¿æ”¯æŒ https è¯·æ±‚ï¼Œéœ€å·²å®‰è£… opensslï¼‰ â€“with-http_realip_module å¯ç”¨ ngx_http_realip_module æ”¯æŒï¼ˆè¿™ä¸ªæ¨¡å—å…è®¸ä»è¯·æ±‚æ ‡å¤´æ›´æ”¹å®¢æˆ·ç«¯çš„ IP åœ°å€å€¼ï¼Œé»˜è®¤ä¸ºå…³ï¼‰ â€“with-http_addition_module å¯ç”¨ ngx_http_addition_module æ”¯æŒï¼ˆä½œä¸ºä¸€ä¸ªè¾“å‡ºè¿‡æ»¤å™¨ï¼Œæ”¯æŒä¸å®Œå…¨ç¼“å†²ï¼Œåˆ†éƒ¨åˆ†å“åº”è¯·æ±‚ï¼‰ â€“with-http_xslt_module å¯ç”¨ ngx_http_xslt_module æ”¯æŒï¼ˆè¿‡æ»¤è½¬æ¢ XML è¯·æ±‚ â€“with-http_image_filter_module å¯ç”¨ ngx_http_image_filter_module æ”¯æŒï¼ˆä¼ è¾“ JPEG/GIF/PNG å›¾ç‰‡çš„ä¸€ä¸ªè¿‡æ»¤å™¨ï¼‰ï¼ˆé»˜è®¤ä¸ºä¸å¯ç”¨ã€‚gd åº“è¦ç”¨åˆ°ï¼‰ â€“with-http_geoip_module å¯ç”¨ ngx_http_geoip_module æ”¯æŒï¼ˆè¯¥æ¨¡å—åˆ›å»ºåŸºäºä¸ MaxMind GeoIP äºŒè¿›åˆ¶æ–‡ä»¶ç›¸é…çš„å®¢æˆ·ç«¯ IP åœ°å€çš„ ngx_http_geoip_module å˜é‡ï¼‰ â€“with-http_sub_module å¯ç”¨ ngx_http_sub_module æ”¯æŒï¼ˆå…è®¸ç”¨ä¸€äº›å…¶ä»–æ–‡æœ¬æ›¿æ¢ nginx å“åº”ä¸­çš„ä¸€äº›æ–‡æœ¬ï¼‰ â€“with-http_dav_module å¯ç”¨ ngx_http_dav_module æ”¯æŒï¼ˆå¢åŠ  PUT,DELETE,MKCOLï¼šåˆ›å»ºé›†åˆ,COPY å’Œ MOVE æ–¹æ³•ï¼‰é»˜è®¤æƒ…å†µä¸‹ä¸ºå…³é—­ï¼Œéœ€ç¼–è¯‘å¼€å¯ â€“with-http_flv_module å¯ç”¨ ngx_http_flv_module æ”¯æŒï¼ˆæä¾›å¯»æ±‚å†…å­˜ä½¿ç”¨åŸºäºæ—¶é—´çš„åç§»é‡æ–‡ä»¶ï¼‰ â€“with-http_gzip_static_module å¯ç”¨ ngx_http_gzip_static_module æ”¯æŒï¼ˆåœ¨çº¿å®æ—¶å‹ç¼©è¾“å‡ºæ•°æ®æµï¼‰ â€“with-http_random_index_module å¯ç”¨ ngx_http_random_index_module æ”¯æŒï¼ˆä»ç›®å½•ä¸­éšæœºæŒ‘é€‰ä¸€ä¸ªç›®å½•ç´¢å¼•ï¼‰ â€“with-http_secure_link_module å¯ç”¨ ngx_http_secure_link_module æ”¯æŒï¼ˆè®¡ç®—å’Œæ£€æŸ¥è¦æ±‚æ‰€éœ€çš„å®‰å…¨é“¾æ¥ç½‘å€ï¼‰ â€“with-http_degradation_module å¯ç”¨ ngx_http_degradation_module æ”¯æŒï¼ˆå…è®¸åœ¨å†…å­˜ä¸è¶³çš„æƒ…å†µä¸‹è¿”å› 204 æˆ– 444 ç ï¼‰ â€“with-http_stub_status_module å¯ç”¨ ngx_http_stub_status_module æ”¯æŒï¼ˆè·å– nginx è‡ªä¸Šæ¬¡å¯åŠ¨ä»¥æ¥çš„å·¥ä½œçŠ¶æ€ï¼‰ â€“without-http_charset_module ç¦ç”¨ ngx_http_charset_module æ”¯æŒï¼ˆé‡æ–°ç¼–ç  web é¡µé¢ï¼Œä½†åªèƒ½æ˜¯ä¸€ä¸ªæ–¹å‘â€“æœåŠ¡å™¨ç«¯åˆ°å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ªå­—èŠ‚çš„ç¼–ç å¯ä»¥è¢«é‡æ–°ç¼–ç ï¼‰ â€“without-http_gzip_module ç¦ç”¨ ngx_http_gzip_module æ”¯æŒï¼ˆè¯¥æ¨¡å—åŒ-with-http_gzip_static_module åŠŸèƒ½ä¸€æ ·ï¼‰ â€“without-http_ssi_module ç¦ç”¨ ngx_http_ssi_module æ”¯æŒï¼ˆè¯¥æ¨¡å—æä¾›äº†ä¸€ä¸ªåœ¨è¾“å…¥ç«¯å¤„ç†å¤„ç†æœåŠ¡å™¨åŒ…å«æ–‡ä»¶ï¼ˆSSIï¼‰çš„è¿‡æ»¤å™¨ï¼Œç›®å‰æ”¯æŒ SSI å‘½ä»¤çš„åˆ—è¡¨æ˜¯ä¸å®Œæ•´çš„ï¼‰ â€“without-http_userid_module ç¦ç”¨ ngx_http_userid_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨æ¥å¤„ç†ç”¨æ¥ç¡®å®šå®¢æˆ·ç«¯åç»­è¯·æ±‚çš„ cookiesï¼‰ â€“without-http_access_module ç¦ç”¨ ngx_http_access_module æ”¯æŒï¼ˆè¯¥æ¨¡å—æä¾›äº†ä¸€ä¸ªç®€å•çš„åŸºäºä¸»æœºçš„è®¿é—®æ§åˆ¶ã€‚å…è®¸/æ‹’ç»åŸºäº ip åœ°å€ï¼‰ â€“without-http_auth_basic_module ç¦ç”¨ ngx_http_auth_basic_moduleï¼ˆè¯¥æ¨¡å—æ˜¯å¯ä»¥ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç åŸºäº http åŸºæœ¬è®¤è¯æ–¹æ³•æ¥ä¿æŠ¤ä½ çš„ç«™ç‚¹æˆ–å…¶éƒ¨åˆ†å†…å®¹ï¼‰ â€“without-http_autoindex_module ç¦ç”¨ disable ngx_http_autoindex_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨äºè‡ªåŠ¨ç”Ÿæˆç›®å½•åˆ—è¡¨ï¼Œåªåœ¨ ngx_http_index_module æ¨¡å—æœªæ‰¾åˆ°ç´¢å¼•æ–‡ä»¶æ—¶å‘å‡ºè¯·æ±‚ã€‚ï¼‰ â€“without-http_geo_module ç¦ç”¨ ngx_http_geo_module æ”¯æŒï¼ˆåˆ›å»ºä¸€äº›å˜é‡ï¼Œå…¶å€¼ä¾èµ–äºå®¢æˆ·ç«¯çš„ IP åœ°å€ï¼‰ â€“without-http_map_module ç¦ç”¨ ngx_http_map_module æ”¯æŒï¼ˆä½¿ç”¨ä»»æ„çš„é”®/å€¼å¯¹è®¾ç½®é…ç½®å˜é‡ï¼‰ â€“without-http_split_clients_module ç¦ç”¨ ngx_http_split_clients_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨æ¥åŸºäºæŸäº›æ¡ä»¶åˆ’åˆ†ç”¨æˆ·ã€‚æ¡ä»¶å¦‚ï¼šip åœ°å€ã€æŠ¥å¤´ã€cookies ç­‰ç­‰ï¼‰ â€“without-http_referer_module ç¦ç”¨ disable ngx_http_referer_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨æ¥è¿‡æ»¤è¯·æ±‚ï¼Œæ‹’ç»æŠ¥ å¤´ä¸­ Referer å€¼ä¸æ­£ç¡®çš„è¯·æ±‚ï¼‰ â€“without-http_rewrite_module ç¦ç”¨ ngx_http_rewrite_module æ”¯æŒï¼ˆè¯¥æ¨¡å—å…è®¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ”¹å˜ URIï¼Œå¹¶ä¸”æ ¹æ®å˜é‡æ¥è½¬å‘ä»¥åŠé€‰æ‹©é…ç½®ã€‚å¦‚æœåœ¨ server çº§åˆ«è®¾ç½®è¯¥é€‰é¡¹ï¼Œé‚£ä¹ˆä»–ä»¬å°†åœ¨ location ä¹‹å‰ç”Ÿæ•ˆã€‚å¦‚æœåœ¨ location è¿˜æœ‰æ›´è¿›ä¸€æ­¥çš„é‡å†™è§„åˆ™ï¼Œlocation éƒ¨åˆ†çš„è§„åˆ™ä¾ç„¶ä¼šè¢«æ‰§è¡Œã€‚å¦‚æœè¿™ä¸ª URI é‡å†™æ˜¯å› ä¸º location éƒ¨åˆ†çš„è§„åˆ™é€ æˆçš„ï¼Œé‚£ä¹ˆ location éƒ¨åˆ†ä¼šå†æ¬¡è¢«æ‰§è¡Œä½œä¸ºæ–°çš„ URIã€‚ è¿™ä¸ªå¾ªç¯ä¼šæ‰§è¡Œ 10 æ¬¡ï¼Œç„¶å Nginx ä¼šè¿”å›ä¸€ä¸ª 500 é”™è¯¯ã€‚ï¼‰ â€“without-http_proxy_module ç¦ç”¨ ngx_http_proxy_module æ”¯æŒï¼ˆæœ‰å…³ä»£ç†æœåŠ¡å™¨ï¼‰ â€“without-http_fastcgi_module ç¦ç”¨ ngx_http_fastcgi_module æ”¯æŒï¼ˆè¯¥æ¨¡å—å…è®¸ Nginx ä¸ FastCGI è¿›ç¨‹äº¤äº’ï¼Œå¹¶é€šè¿‡ä¼ é€’å‚æ•°æ¥æ§åˆ¶ FastCGI è¿›ç¨‹å·¥ä½œã€‚ ï¼‰FastCGI ä¸€ä¸ªå¸¸é©»å‹çš„å…¬å…±ç½‘å…³æ¥å£ã€‚ â€“without-http_uwsgi_module ç¦ç”¨ ngx_http_uwsgi_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨æ¥åŒ»ç”¨ uwsgi åè®®ï¼ŒuWSGI æœåŠ¡å™¨ç›¸å…³ï¼‰ â€“without-http_scgi_module ç¦ç”¨ ngx_http_scgi_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨æ¥å¯ç”¨ SCGI åè®®æ”¯æŒï¼ŒSCGI åè®®æ˜¯ CGI åè®®çš„æ›¿ä»£ã€‚å®ƒæ˜¯ä¸€ç§åº”ç”¨ç¨‹åºä¸ HTTP æœåŠ¡æ¥å£æ ‡å‡†ã€‚å®ƒæœ‰äº›åƒ FastCGI ä½†ä»–çš„è®¾è®¡ æ›´å®¹æ˜“å®ç°ã€‚ï¼‰ â€“without-http_memcached_module ç¦ç”¨ ngx_http_memcached_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨æ¥æä¾›ç®€å•çš„ç¼“å­˜ï¼Œä»¥æé«˜ç³»ç»Ÿæ•ˆç‡ï¼‰ -without-http_limit_zone_module ç¦ç”¨ ngx_http_limit_zone_module æ”¯æŒï¼ˆè¯¥æ¨¡å—å¯ä»¥é’ˆå¯¹æ¡ä»¶ï¼Œè¿›è¡Œä¼šè¯çš„å¹¶å‘è¿æ¥æ•°æ§åˆ¶ï¼‰ â€“without-http_limit_req_module ç¦ç”¨ ngx_http_limit_req_module æ”¯æŒï¼ˆè¯¥æ¨¡å—å…è®¸ä½ å¯¹äºä¸€ä¸ªåœ°å€è¿›è¡Œè¯·æ±‚æ•°é‡çš„é™åˆ¶ç”¨ä¸€ä¸ªç»™å®šçš„ session æˆ–ä¸€ä¸ªç‰¹å®šçš„äº‹ä»¶ï¼‰ â€“without-http_empty_gif_module ç¦ç”¨ ngx_http_empty_gif_module æ”¯æŒï¼ˆè¯¥æ¨¡å—åœ¨å†…å­˜ä¸­å¸¸é©»äº†ä¸€ä¸ª 1*1 çš„é€æ˜ GIF å›¾åƒï¼Œå¯ä»¥è¢«éå¸¸å¿«é€Ÿçš„è°ƒç”¨ï¼‰ â€“without-http_browser_module ç¦ç”¨ ngx_http_browser_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨æ¥åˆ›å»ºä¾èµ–äºè¯·æ±‚æŠ¥å¤´çš„å€¼ã€‚å¦‚æœæµè§ˆå™¨ä¸º modern ï¼Œåˆ™$modern_browser ç­‰äº modern_browser_value æŒ‡ä»¤åˆ†é…çš„å€¼ï¼›å¦‚ æœæµè§ˆå™¨ä¸º oldï¼Œåˆ™$ancient_browser ç­‰äº ancient_browser_value æŒ‡ä»¤åˆ†é…çš„å€¼ï¼›å¦‚æœæµè§ˆå™¨ä¸º MSIE ä¸­çš„ä»»æ„ç‰ˆæœ¬ï¼Œåˆ™ $msie ç­‰äº 1ï¼‰ â€“without-http_upstream_ip_hash_module ç¦ç”¨ ngx_http_upstream_ip_hash_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ç”¨äºç®€å•çš„è´Ÿè½½å‡è¡¡ï¼‰ â€“with-http_perl_module å¯ç”¨ ngx_http_perl_module æ”¯æŒï¼ˆè¯¥æ¨¡å—ä½¿ nginx å¯ä»¥ç›´æ¥ä½¿ç”¨ perl æˆ–é€šè¿‡ ssi è°ƒç”¨ perlï¼‰ â€“with-perl_modules_path= è®¾å®š perl æ¨¡å—è·¯å¾„ â€“with-perl= è®¾å®š perl åº“æ–‡ä»¶è·¯å¾„ â€“http-log-path= è®¾å®š access log è·¯å¾„ â€“http-client-body-temp-path= è®¾å®š http å®¢æˆ·ç«¯è¯·æ±‚ä¸´æ—¶æ–‡ä»¶è·¯å¾„ â€“http-proxy-temp-path= è®¾å®š http ä»£ç†ä¸´æ—¶æ–‡ä»¶è·¯å¾„ â€“http-fastcgi-temp-path= è®¾å®š http fastcgi ä¸´æ—¶æ–‡ä»¶è·¯å¾„ â€“http-uwsgi-temp-path= è®¾å®š http uwsgi ä¸´æ—¶æ–‡ä»¶è·¯å¾„ â€“http-scgi-temp-path= è®¾å®š http scgi ä¸´æ—¶æ–‡ä»¶è·¯å¾„ -without-http ç¦ç”¨ http server åŠŸèƒ½ â€“without-http-cache ç¦ç”¨ http cache åŠŸèƒ½ â€“with-mail å¯ç”¨ POP3/IMAP4/SMTP ä»£ç†æ¨¡å—æ”¯æŒ â€“with-mail_ssl_module å¯ç”¨ ngx_mail_ssl_module æ”¯æŒ â€“without-mail_pop3_module ç¦ç”¨ pop3 åè®®ï¼ˆPOP3 å³é‚®å±€åè®®çš„ç¬¬ 3 ä¸ªç‰ˆæœ¬,å®ƒæ˜¯è§„å®šä¸ªäººè®¡ç®—æœºå¦‚ä½•è¿æ¥åˆ°äº’è”ç½‘ä¸Šçš„é‚®ä»¶æœåŠ¡å™¨è¿›è¡Œæ”¶å‘é‚®ä»¶çš„åè®®ã€‚æ˜¯å› ç‰¹ç½‘ç”µå­é‚®ä»¶çš„ç¬¬ä¸€ä¸ªç¦»çº¿åè®®æ ‡ å‡†,POP3 åè®®å…è®¸ç”¨æˆ·ä»æœåŠ¡å™¨ä¸ŠæŠŠé‚®ä»¶å­˜å‚¨åˆ°æœ¬åœ°ä¸»æœºä¸Š,åŒæ—¶æ ¹æ®å®¢æˆ·ç«¯çš„æ“ä½œåˆ é™¤æˆ–ä¿å­˜åœ¨é‚®ä»¶æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ã€‚POP3 åè®®æ˜¯ TCP/IP åè®®æ—ä¸­çš„ä¸€å‘˜ï¼Œä¸»è¦ç”¨äº æ”¯æŒä½¿ç”¨å®¢æˆ·ç«¯è¿œç¨‹ç®¡ç†åœ¨æœåŠ¡å™¨ä¸Šçš„ç”µå­é‚®ä»¶ï¼‰ â€“without-mail_imap_module ç¦ç”¨ imap åè®®ï¼ˆä¸€ç§é‚®ä»¶è·å–åè®®ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯é‚®ä»¶å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è¿™ç§åè®®ä»é‚®ä»¶æœåŠ¡å™¨ä¸Šè·å–é‚®ä»¶çš„ä¿¡æ¯ï¼Œä¸‹è½½é‚®ä»¶ç­‰ã€‚IMAP åè®®è¿è¡Œåœ¨ TCP/IP åè®®ä¹‹ä¸Šï¼Œ ä½¿ç”¨çš„ç«¯å£æ˜¯ 143ã€‚å®ƒä¸ POP3 åè®®çš„ä¸»è¦åŒºåˆ«æ˜¯ç”¨æˆ·å¯ä»¥ä¸ç”¨æŠŠæ‰€æœ‰çš„é‚®ä»¶å…¨éƒ¨ä¸‹è½½ï¼Œå¯ä»¥é€šè¿‡å®¢æˆ·ç«¯ç›´æ¥å¯¹æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶è¿›è¡Œæ“ä½œã€‚ï¼‰ â€“without-mail_smtp_module ç¦ç”¨ smtp åè®®ï¼ˆSMTP å³ç®€å•é‚®ä»¶ä¼ è¾“åè®®,å®ƒæ˜¯ä¸€ç»„ç”¨äºç”±æºåœ°å€åˆ°ç›®çš„åœ°å€ä¼ é€é‚®ä»¶çš„è§„åˆ™ï¼Œç”±å®ƒæ¥æ§åˆ¶ä¿¡ä»¶çš„ä¸­è½¬æ–¹å¼ã€‚SMTP åè®®å±äº TCP/IP åè®®æ—ï¼Œå®ƒå¸®åŠ©æ¯å°è®¡ç®—æœºåœ¨å‘é€æˆ–ä¸­è½¬ä¿¡ä»¶æ—¶æ‰¾åˆ°ä¸‹ä¸€ä¸ªç›®çš„åœ°ã€‚ï¼‰ â€“with-google_perftools_module å¯ç”¨ ngx_google_perftools_module æ”¯æŒï¼ˆè°ƒè¯•ç”¨ï¼Œå‰–æç¨‹åºæ€§èƒ½ç“¶é¢ˆï¼‰ â€“with-cpp_test_module å¯ç”¨ ngx_cpp_test_module æ”¯æŒ â€“add-module= å¯ç”¨å¤–éƒ¨æ¨¡å—æ”¯æŒ â€“with-cc= æŒ‡å‘ C ç¼–è¯‘å™¨è·¯å¾„ â€“with-cpp= æŒ‡å‘ C é¢„å¤„ç†è·¯å¾„ â€“with-cc-opt= è®¾ç½® C ç¼–è¯‘å™¨å‚æ•°ï¼ˆPCRE åº“ï¼Œéœ€è¦æŒ‡å®šâ€“with-cc-opt=â€-I /usr/local/includeâ€ï¼Œå¦‚æœä½¿ç”¨ select()å‡½æ•°åˆ™éœ€è¦åŒæ—¶å¢åŠ æ–‡ä»¶æè¿°ç¬¦æ•°é‡ï¼Œå¯ä»¥é€šè¿‡â€“with-cc- opt=â€-D FD_SETSIZE=2048â€æŒ‡å®šã€‚ï¼‰ â€“with-ld-opt= è®¾ç½®è¿æ¥æ–‡ä»¶å‚æ•°ã€‚ï¼ˆPCRE åº“ï¼Œéœ€è¦æŒ‡å®šâ€“with-ld-opt=â€-L /usr/local/libâ€ã€‚ï¼‰ â€“with-cpu-opt= æŒ‡å®šç¼–è¯‘çš„ CPUï¼Œå¯ç”¨çš„å€¼ä¸º: pentium, pentiumpro, pentium3, pentium4, athlon,opteron, amd64, sparc32, sparc64, ppc64 â€“without-pcre ç¦ç”¨ pcre åº“ â€“with-pcre å¯ç”¨ pcre åº“ â€“with-pcre= æŒ‡å‘ pcre åº“æ–‡ä»¶ç›®å½• â€“with-pcre-opt= åœ¨ç¼–è¯‘æ—¶ä¸º pcre åº“è®¾ç½®é™„åŠ å‚æ•° â€“with-md5= æŒ‡å‘ md5 åº“æ–‡ä»¶ç›®å½•ï¼ˆæ¶ˆæ¯æ‘˜è¦ç®—æ³•ç¬¬äº”ç‰ˆï¼Œç”¨ä»¥æä¾›æ¶ˆæ¯çš„å®Œæ•´æ€§ä¿æŠ¤ï¼‰ â€“with-md5-opt= åœ¨ç¼–è¯‘æ—¶ä¸º md5 åº“è®¾ç½®é™„åŠ å‚æ•° â€“with-md5-asm ä½¿ç”¨ md5 æ±‡ç¼–æº â€“with-sha1= æŒ‡å‘ sha1 åº“ç›®å½•ï¼ˆæ•°å­—ç­¾åç®—æ³•ï¼Œä¸»è¦ç”¨äºæ•°å­—ç­¾åï¼‰ â€“with-sha1-opt= åœ¨ç¼–è¯‘æ—¶ä¸º sha1 åº“è®¾ç½®é™„åŠ å‚æ•° â€“with-sha1-asm ä½¿ç”¨ sha1 æ±‡ç¼–æº â€“with-zlib= æŒ‡å‘ zlib åº“ç›®å½• â€“with-zlib-opt= åœ¨ç¼–è¯‘æ—¶ä¸º zlib è®¾ç½®é™„åŠ å‚æ•° â€“with-zlib-asm= ä¸ºæŒ‡å®šçš„ CPU ä½¿ç”¨ zlib æ±‡ç¼–æºè¿›è¡Œä¼˜åŒ–ï¼ŒCPU ç±»å‹ä¸º pentium, pentiumpro â€“with-libatomic ä¸ºåŸå­å†…å­˜çš„æ›´æ–°æ“ä½œçš„å®ç°æä¾›ä¸€ä¸ªæ¶æ„ â€“with-libatomic= æŒ‡å‘ libatomic_ops å®‰è£…ç›®å½• â€“with-openssl= æŒ‡å‘ openssl å®‰è£…ç›®å½• â€“with-openssl-opt åœ¨ç¼–è¯‘æ—¶ä¸º openssl è®¾ç½®é™„åŠ å‚æ•° â€“with-debug å¯ç”¨ debug æ—¥å¿—</description></item><item><title>nginx é‡å†™è§„åˆ™ rewriteæ¨¡å—</title><link>https://www.jobcher.com/nginx04/</link><pubDate>Fri, 24 Dec 2021 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx04/</guid><description>nginx é‡å†™è§„åˆ™ rewrite æ¨¡å— è¯­æ³• è¯­æ³• é»˜è®¤å€¼ ä½¿ç”¨å­—æ®µ ä½œç”¨ break none server, location, if å®Œæˆå½“å‰è®¾ç½®çš„é‡å†™è§„åˆ™ï¼Œåœæ­¢æ‰§è¡Œå…¶ä»–çš„é‡å†™è§„åˆ™ã€‚ set variable value none server, location, if ä¸ºç»™å®šçš„å˜é‡è®¾ç½®ä¸€ä¸ªç‰¹å®šå€¼ã€‚ return code none server, location, if åœæ­¢å¤„ç†å¹¶ä¸ºå®¢æˆ·ç«¯è¿”å›çŠ¶æ€ç ã€‚éæ ‡å‡†çš„ 444 çŠ¶æ€ç å°†å…³é—­è¿æ¥ï¼Œä¸å‘é€ä»»ä½•å“åº”å¤´ã€‚å¯ä»¥ä½¿ç”¨çš„çŠ¶æ€ç æœ‰ï¼š204ï¼Œ400ï¼Œ402-406ï¼Œ408ï¼Œ410, 411, 413, 416 ä¸ 500-504ã€‚å¦‚æœçŠ¶æ€ç é™„å¸¦æ–‡å­—æ®µè½ï¼Œè¯¥æ–‡æœ¬å°†è¢«æ”¾ç½®åœ¨å“åº”ä¸»ä½“ã€‚ç›¸åï¼Œå¦‚æœçŠ¶æ€ç åé¢æ˜¯ä¸€ä¸ª URLï¼Œè¯¥ URL å°†æˆä¸º location å¤´è¡¥å€¼ã€‚æ²¡æœ‰çŠ¶æ€ç çš„ URL å°†è¢«è§†ä¸ºä¸€ä¸ª 302 çŠ¶æ€ç ã€‚ rewrite_log on rewrite_log off server, location, if å¯ç”¨æ—¶å°†åœ¨ error log ä¸­è®°å½• notice çº§åˆ«çš„é‡å†™æ—¥å¿—ã€‚ rewrite regex replacement flag none server, location, if æŒ‰ç…§ç›¸å…³çš„æ­£åˆ™è¡¨è¾¾å¼ä¸å­—ç¬¦ä¸²ä¿®æ”¹ URIï¼ŒæŒ‡ä»¤æŒ‰ç…§åœ¨é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„é¡ºåºæ‰§è¡Œã€‚å¯ä»¥åœ¨é‡å†™æŒ‡ä»¤åé¢æ·»åŠ æ ‡è®°ã€‚æ³¨æ„ï¼šå¦‚æœæ›¿æ¢çš„å­—ç¬¦ä¸²ä»¥ http://å¼€å¤´ï¼Œè¯·æ±‚å°†è¢«é‡å®šå‘ï¼Œå¹¶ä¸”ä¸å†æ‰§è¡Œå¤šä½™çš„ rewrite æŒ‡ä»¤ã€‚å°¾éƒ¨çš„æ ‡è®°(flag)å¯ä»¥æ˜¯ä»¥ä¸‹çš„å€¼ï¼šlast â€“ åœæ­¢å¤„ç†é‡å†™æ¨¡å—æŒ‡ä»¤ï¼Œä¹‹åæœç´¢ location ä¸æ›´æ”¹åçš„ URI åŒ¹é….</description></item><item><title>nginx.conf é…ç½®æ–‡ä»¶è¯¦è§£</title><link>https://www.jobcher.com/nginx03/</link><pubDate>Fri, 24 Dec 2021 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx03/</guid><description>nginx.conf é…ç½®æ–‡ä»¶è¯¦è§£ 1# vim nginx.conf 2user nobody nobody; # è¿è¡Œ nginx çš„æ‰€å±ç»„å’Œæ‰€æœ‰è€… 3worker_processes 2; # å¼€å¯ä¸¤ä¸ª nginx å·¥ä½œè¿›ç¨‹,ä¸€èˆ¬å‡ ä¸ª CPU æ ¸å¿ƒå°±å†™å‡  4error_log logs/error.log notice; # é”™è¯¯æ—¥å¿—è·¯å¾„ 5pid logs/nginx.pid; # pid è·¯å¾„ 6 7events 8{ 9 worker_connections 1024; # ä¸€ä¸ªè¿›ç¨‹èƒ½åŒæ—¶å¤„ç† 1024 ä¸ªè¯·æ±‚ 10} 11 12http 13{ 14 include mime.types; 15 default_type application/octet-stream; 16 17 log_format main â€˜$remote_addr â€“ $remote_user [$time_local] â€œ$requestâ€ â€˜ 18 â€˜$status $body_bytes_sent â€œ$http_refererâ€ â€˜ 19 â€˜â€$http_user_agentâ€ â€œ$http_x_forwarded_forâ€â€˜; 20 access_log logs/access.</description></item><item><title>nginx æ—¥å¿—æ ¼å¼æ•´ç†</title><link>https://www.jobcher.com/nginx01/</link><pubDate>Mon, 13 Dec 2021 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx01/</guid><description>nginx æ—¥å¿—é…ç½® è¯­æ³• access_log path [format [buffer=size] [gzip[=level]] [flush=time] [if=condition]]; # è®¾ç½®è®¿é—®æ—¥å¿— access_log off; # å…³é—­è®¿é—®æ—¥å¿— ä¾‹å­ï¼š
access_log /var/logs/nginx-access.log access_log /var/logs/nginx-access.log buffer=32k gzip flush=1m ä½¿ç”¨ log_format è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼ Nginx é¢„å®šä¹‰äº†åä¸º combined æ—¥å¿—æ ¼å¼ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡å®šæ—¥å¿—æ ¼å¼é»˜è®¤ä½¿ç”¨è¯¥æ ¼å¼ï¼š
log_format combined &amp;#39;$remote_addr - $remote_user [$time_local] &amp;#39; &amp;#39;&amp;#34;$request&amp;#34; $status $body_bytes_sent &amp;#39; &amp;#39;&amp;#34;$http_referer&amp;#34; &amp;#34;$http_user_agent&amp;#34;&amp;#39;; å¦‚æœä¸æƒ³ä½¿ç”¨ Nginx é¢„å®šä¹‰çš„æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ log_format æŒ‡ä»¤æ¥è‡ªå®šä¹‰ã€‚
è¯­æ³• log_format name [escape=default|json] string ...; å˜é‡ å«ä¹‰ $bytes_sent å‘é€ç»™å®¢æˆ·ç«¯çš„æ€»å­—èŠ‚æ•° $body_bytes_sent å‘é€ç»™å®¢æˆ·ç«¯çš„å­—èŠ‚æ•°ï¼Œä¸åŒ…æ‹¬å“åº”å¤´çš„å¤§å° $connection è¿æ¥åºåˆ—å· $connection_requests å½“å‰é€šè¿‡è¿æ¥å‘å‡ºçš„è¯·æ±‚æ•°é‡ $msec æ—¥å¿—å†™å…¥æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œç²¾åº¦æ˜¯æ¯«ç§’ $pipe å¦‚æœè¯·æ±‚æ˜¯é€šè¿‡ http æµæ°´çº¿å‘é€ï¼Œåˆ™å…¶å€¼ä¸º&amp;quot;p&amp;quot;ï¼Œå¦åˆ™ä¸ºâ€œ.</description></item><item><title>linuxç³»ç»Ÿå¼€å¯rootæƒé™</title><link>https://www.jobcher.com/resetsystem/</link><pubDate>Sun, 12 Dec 2021 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/resetsystem/</guid><description>linux ç³»ç»Ÿå¼€å¯ root æƒé™ ä¿®æ”¹ ssh æœåŠ¡é…ç½®æ–‡ä»¶ 1sudo su - 2sudo vim /etc/ssh/sshd_config å¢åŠ æƒé™
åœ¨# Authentication: ä¸‹è¾“å…¥ 1PermitRootLogin yes æ›´æ”¹ root å¯†ç ï¼Œé‡å¯æœåŠ¡ 1sudo passwd root 2service sshd restart</description></item><item><title>nginx æ±‡æ€»</title><link>https://www.jobcher.com/nginx/</link><pubDate>Wed, 08 Dec 2021 00:00:00 +0000</pubDate><guid>https://www.jobcher.com/nginx/</guid><description>nginx æ±‡æ€» å„ç±» nginx é—®é¢˜æ±‡æ€»
å®‰è£… nginx 1 #centos 2 yum install nginx 3 #ubuntu 4 apt install nginx http ä»£ç† æ­£å‘ä»£ç† 1 server { 2 listen 80; 3 server_name www.nbtyfood.com; 4 5 location / { 6 proxy_pass http://127.0.0.1:8080; 7 } 8 } åå‘ä»£ç† è´Ÿè½½å‡è¡¡ 1 upstream mysvr { 2 server 192.168.10.121:3333; 3 server 192.168.10.122:3333; 4 } 5 server { 6 .... 7 location ~*^.+$ { 8 proxy_pass http://mysvr; #è¯·æ±‚è½¬å‘mysvr å®šä¹‰çš„æœåŠ¡å™¨åˆ—è¡¨ 9 } 10 } çƒ­å¤‡</description></item></channel></rss>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>logstash - 标签 - 打工人日志 - jobcher</title>
        <link>http://www.jobcher.com/tags/logstash/</link>
        <description>logstash - 标签 - 打工人日志 - jobcher</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>nb@nbtyfood.com (jobcher)</managingEditor>
            <webMaster>nb@nbtyfood.com (jobcher)</webMaster><lastBuildDate>Tue, 27 Sep 2022 00:00:00 &#43;0000</lastBuildDate><atom:link href="http://www.jobcher.com/tags/logstash/" rel="self" type="application/rss+xml" /><item>
    <title>苏州旅行</title>
    <link>http://www.jobcher.com/suzhou/</link>
    <pubDate>Tue, 27 Sep 2022 00:00:00 &#43;0000</pubDate>
    <author>作者</author>
    <guid>http://www.jobcher.com/suzhou/</guid>
    <description><![CDATA[<h1 id="苏州旅行">苏州旅行</h1>
<table><tr><td bgcolor=#ff0000>新冠肺炎 COVID-19 警告 </td></tr></table>
苏州，古称吴，现简称苏，是中华人民共和国江苏省东南部的一个地级市，位于长江三角洲和太湖平原的中心地带，著名的鱼米之乡、状元之乡、院士之乡、经济重镇、历史文化名城，自古与杭州共享有“上有天堂、下有苏杭”美誉。  
<h2 id="苏州景点">苏州景点</h2>
<h3 id="day1">day1</h3>
<ul>
<li>金鸡湖</li>
</ul>
<h3 id="day2">day2</h3>
<ul>
<li>苏州博物馆
<ul>
<li></li>
<li>地址：姑苏区东北街204号</li>
<li>交通：乘坐游1、游2、游5、55、178、202、309、313、518、529路等到苏州博物馆</li>
<li>门票：免费(可在官网提前预约)</li>
<li>开放时间：每星期二至星期日- 9:00~17:00（16:00停止入馆）
◆建议用时：2-3小时</li>
</ul>
</li>
</ul>
<h3 id="day3">day3</h3>
<ul>
<li>虎丘
<ul>
<li></li>
<li>地址：姑苏区山塘街虎丘山门内8号</li>
<li>交通：南门入口：146、游1、游2路虎丘首末站；北门入口：32、快线3号虎丘北门站</li>
<li>门票：淡季：60.00元 旺季：80.00元</li>
<li>开放时间： 7:30-17:30/17：00</li>
<li>建议用时：2-3小时</li>
</ul>
</li>
</ul>
<h2 id="苏州美食">苏州美食</h2>
<h3 id="饭店">饭店</h3>
<h3 id="小吃">小吃</h3>
<ul>
<li>蟹黄面</li>
</ul>
<h2 id="vlog系列">vlog系列</h2>
<p>{{ bilibili BV1Xi4y1y7Si }}</p>
]]></description>
</item><item>
    <title>logstash 多管道部署</title>
    <link>http://www.jobcher.com/logstash/</link>
    <pubDate>Tue, 19 Jul 2022 00:00:00 &#43;0000</pubDate>
    <author>作者</author>
    <guid>http://www.jobcher.com/logstash/</guid>
    <description><![CDATA[<h1 id="logstash-多管道部署">logstash 多管道部署</h1>
<p>找到logstash 目录位置，一般来说在 <code>/etc/logstash</code> 路径下,修改 <code>logstash.yml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c">#增加 日志记录</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">path.logs</span><span class="p">:</span><span class="w"> </span><span class="l">/var/log/logstash</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="增加管道">增加管道</h2>
<p>增加 <code>conf.d</code>目录下 test.conf</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">input {
</span></span><span class="line"><span class="cl">    beats {
</span></span><span class="line"><span class="cl">        host =&gt; &#34;0.0.0.0&#34;
</span></span><span class="line"><span class="cl">        port =&gt; 23000 # 修改端口IP
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">filter {
</span></span><span class="line"><span class="cl">    mutate{
</span></span><span class="line"><span class="cl">        add_field =&gt; {
</span></span><span class="line"><span class="cl">            &#34;cluster&#34; =&gt; &#34;test&#34; # 修改标签
</span></span><span class="line"><span class="cl">            &#34;job&#34; =&gt; &#34;logstash&#34;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">output {
</span></span><span class="line"><span class="cl">        file {
</span></span><span class="line"><span class="cl">            path =&gt; &#34;/data/路径名称&#34; # 路径名称
</span></span><span class="line"><span class="cl">            gzip =&gt; false  #匹配以空格开头的行
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>修改 <code>pipelines.yml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl">- <span class="nt">pipeline.id</span><span class="p">:</span><span class="w"> </span><span class="l">名称</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">path.config</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;/etc/logstash/conf.d/配置文件.conf&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">queue.type</span><span class="p">:</span><span class="w"> </span><span class="l">persisted</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="启动logstash文件">启动logstash文件</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">/usr/share/logstash/bin/logstash <span class="p">&amp;</span>
</span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item></channel>
</rss>

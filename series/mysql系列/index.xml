<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>mysql系列 - seris - 打工人日志 - jobcher</title>
        <link>https://test.jobcher.com/series/mysql%E7%B3%BB%E5%88%97/</link>
        <description>mysql系列 - seris - 打工人日志 - jobcher</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>nb@nbtyfood.com (jobcher)</managingEditor>
            <webMaster>nb@nbtyfood.com (jobcher)</webMaster><lastBuildDate>Tue, 16 Aug 2022 00:00:00 &#43;0000</lastBuildDate><atom:link href="https://test.jobcher.com/series/mysql%E7%B3%BB%E5%88%97/" rel="self" type="application/rss+xml" /><item>
    <title>关系数据库 索引操作</title>
    <link>https://test.jobcher.com/sql-index/</link>
    <pubDate>Tue, 16 Aug 2022 00:00:00 &#43;0000</pubDate>
    <author>作者</author>
    <guid>https://test.jobcher.com/sql-index/</guid>
    <description><![CDATA[<h1 id="索引">索引</h1>
<p>在<code>关系数据库</code>中，如果有上万甚至上亿条记录，在查找记录的时候，想要获得非常快的速度，就需要使用索引。<br>
<code>索引</code>是关系数据库中对某一列或多个列的值进行预排序的数据结构。通过使用索引，可以让数据库系统<code>不必扫描整个表</code>，而是直接定位到符合条件的记录，这样就大大<code>加快</code>了<code>查询速度</code>。<br>
<code>students</code>表: </p>
<table>
<thead>
<tr>
<th style="text-align:left">id</th>
<th style="text-align:left">class_id</th>
<th style="text-align:left">name</th>
<th style="text-align:left">gender</th>
<th style="text-align:left">score</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">1</td>
<td style="text-align:left">小明</td>
<td style="text-align:left">M</td>
<td style="text-align:left">90</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">1</td>
<td style="text-align:left">小红</td>
<td style="text-align:left">F</td>
<td style="text-align:left">95</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">1</td>
<td style="text-align:left">小军</td>
<td style="text-align:left">M</td>
<td style="text-align:left">88</td>
</tr>
</tbody>
</table>
<h3 id="如果要经常根据score列进行查询就可以对score列创建索引">如果要经常根据<code>score</code>列进行查询，就可以对<code>score列</code>创建索引：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">students</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_score</span><span class="w"> </span><span class="p">(</span><span class="n">score</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="使用add-index-idx_score-score就创建了一个名称为idx_score使用列score的索引索引名称是任意的索引如果有多列可以在括号里依次写上例如">使用<code>ADD INDEX idx_score (score)</code>就创建了一个名称为<code>idx_score</code>，使用列<code>score</code>的索引。索引名称是任意的，索引如果有多列，可以在括号里依次写上，例如：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">students</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_name_score</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>索引的效率取决于索引列的值是否散列，即该列的值如果越互不相同，那么索引效率越高。反过来，如果记录的列存在大量相同的值，例如<code>gender</code>列，大约一半的记录值是<code>M</code>，另一半是<code>F</code>，因此，对该列创建索引就没有意义。</p>
<h2 id="唯一索引">唯一索引</h2>
<p>在设计关系数据表的时候，看上去唯一的列，例如身份证号、邮箱地址等，因为他们具有业务含义，因此不宜作为主键。<br>
但是，这些列根据业务要求，又具有唯一性约束：即不能出现两条记录存储了同一个身份证号。这个时候，就可以给该列添加一个唯一索引。例如，我们假设<code>students</code>表的<code>name</code>不能重复：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">students</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">uni_name</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>通过<code>UNIQUE</code>关键字我们就添加了一个唯一索引。<br>
也可以只对某一列添加一个唯一约束而不创建唯一索引：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">students</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">uni_name</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>这种情况下，<code>name</code>列没有索引，但仍然具有唯一性保证。</p>
<p>无论是否创建索引，对于用户和应用程序来说，使用关系数据库不会有任何区别。这里的意思是说，当我们在数据库中查询时，如果有相应的索引可用，数据库系统就会自动使用索引来提高查询效率，如果没有索引，查询也能正常执行，只是速度会变慢。因此，索引可以在使用数据库的过程中逐步优化</p>
<blockquote>
<p>通过对数据库表创建索引，可以提高查询速度。
通过创建唯一索引，可以保证某一列的值具有唯一性。
数据库索引对于用户和应用程序来说都是透明的。</p>
</blockquote>
]]></description>
</item><item>
    <title>Navicat 查看导出连接的密码 | navicat查看密码方案</title>
    <link>https://test.jobcher.com/navicatforgetpassword/</link>
    <pubDate>Tue, 08 Feb 2022 00:00:00 &#43;0000</pubDate>
    <author>作者</author>
    <guid>https://test.jobcher.com/navicatforgetpassword/</guid>
    <description><![CDATA[<h1 id="navicat-查看密码方案">Navicat 查看密码方案</h1>
<h2 id="解决问题">解决问题：</h2>
<p>我们经常使用 navicat 连接数据库，有时候时间久了之后，会忘记之前的密码，那么现在我们有办法获得只要正常连接的数据库的密码</p>
<h2 id="步骤">步骤：</h2>
<ol>
<li>导出连接 connections.ncx，拿到保存到本地的 connections.ncx 文件中的 Password，粘贴到下面的代码中</li>
<li>登陆<a href="https://tool.lu/coderunner/" target="_blank" rel="noopener noreffer">https://tool.lu/coderunner/</a>，使用 PHP 在线运行工具，粘贴下面添加密码后的代码<br>
备用工具网址（https://zixuephp.net/tool-runcode.html）</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="o">&lt;?</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">NavicatPassword</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="nv">$version</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="nv">$aesKey</span> <span class="o">=</span> <span class="s1">&#39;libcckeylibcckey&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="nv">$aesIv</span> <span class="o">=</span> <span class="s1">&#39;libcciv libcciv &#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="nv">$blowString</span> <span class="o">=</span> <span class="s1">&#39;3DC5CA39&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="nv">$blowKey</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="nv">$blowIv</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$version</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">version</span> <span class="o">=</span> <span class="nv">$version</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blowKey</span> <span class="o">=</span> <span class="nx">sha1</span><span class="p">(</span><span class="s1">&#39;3DC5CA39&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blowIv</span> <span class="o">=</span> <span class="nx">hex2bin</span><span class="p">(</span><span class="s1">&#39;d9c7c3c8870d64bd&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">encrypt</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">switch</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">version</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="mi">11</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryptEleven</span><span class="p">(</span><span class="nv">$string</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="mi">12</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryptTwelve</span><span class="p">(</span><span class="nv">$string</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">default</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">function</span> <span class="nf">encryptEleven</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$round</span> <span class="o">=</span> <span class="nx">intval</span><span class="p">(</span><span class="nx">floor</span><span class="p">(</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span> <span class="o">/</span> <span class="mi">8</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$leftLength</span> <span class="o">=</span> <span class="nx">strlen</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$currentVector</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blowIv</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$round</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$temp</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryptBlock</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">xorBytes</span><span class="p">(</span><span class="nx">substr</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="mi">8</span> <span class="o">*</span> <span class="nv">$i</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="nv">$currentVector</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$currentVector</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">xorBytes</span><span class="p">(</span><span class="nv">$currentVector</span><span class="p">,</span> <span class="nv">$temp</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$result</span> <span class="o">.=</span> <span class="nv">$temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nv">$leftLength</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$currentVector</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryptBlock</span><span class="p">(</span><span class="nv">$currentVector</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$result</span> <span class="o">.=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">xorBytes</span><span class="p">(</span><span class="nx">substr</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="mi">8</span> <span class="o">*</span> <span class="nv">$i</span><span class="p">,</span> <span class="nv">$leftLength</span><span class="p">),</span> <span class="nv">$currentVector</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">strtoupper</span><span class="p">(</span><span class="nx">bin2hex</span><span class="p">(</span><span class="nv">$result</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">function</span> <span class="nf">encryptBlock</span><span class="p">(</span><span class="nv">$block</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">openssl_encrypt</span><span class="p">(</span><span class="nv">$block</span><span class="p">,</span> <span class="s1">&#39;BF-ECB&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blowKey</span><span class="p">,</span> <span class="nx">OPENSSL_RAW_DATA</span><span class="o">|</span><span class="nx">OPENSSL_NO_PADDING</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">function</span> <span class="nf">decryptBlock</span><span class="p">(</span><span class="nv">$block</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">openssl_decrypt</span><span class="p">(</span><span class="nv">$block</span><span class="p">,</span> <span class="s1">&#39;BF-ECB&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blowKey</span><span class="p">,</span> <span class="nx">OPENSSL_RAW_DATA</span><span class="o">|</span><span class="nx">OPENSSL_NO_PADDING</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">function</span> <span class="nf">xorBytes</span><span class="p">(</span><span class="nv">$str1</span><span class="p">,</span> <span class="nv">$str2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nx">strlen</span><span class="p">(</span><span class="nv">$str1</span><span class="p">);</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$result</span> <span class="o">.=</span> <span class="nx">chr</span><span class="p">(</span><span class="nx">ord</span><span class="p">(</span><span class="nv">$str1</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">^</span> <span class="nx">ord</span><span class="p">(</span><span class="nv">$str2</span><span class="p">[</span><span class="nv">$i</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">function</span> <span class="nf">encryptTwelve</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span> <span class="o">=</span> <span class="nx">openssl_encrypt</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="s1">&#39;AES-128-CBC&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aesKey</span><span class="p">,</span> <span class="nx">OPENSSL_RAW_DATA</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aesIv</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">strtoupper</span><span class="p">(</span><span class="nx">bin2hex</span><span class="p">(</span><span class="nv">$result</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">decrypt</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span> <span class="o">=</span> <span class="k">FALSE</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">switch</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">version</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="mi">11</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">decryptEleven</span><span class="p">(</span><span class="nv">$string</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">case</span> <span class="mi">12</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">decryptTwelve</span><span class="p">(</span><span class="nv">$string</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">default</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">function</span> <span class="nf">decryptEleven</span><span class="p">(</span><span class="nv">$upperString</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$string</span> <span class="o">=</span> <span class="nx">hex2bin</span><span class="p">(</span><span class="nx">strtolower</span><span class="p">(</span><span class="nv">$upperString</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nv">$round</span> <span class="o">=</span> <span class="nx">intval</span><span class="p">(</span><span class="nx">floor</span><span class="p">(</span><span class="nx">strlen</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span> <span class="o">/</span> <span class="mi">8</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$leftLength</span> <span class="o">=</span> <span class="nx">strlen</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$currentVector</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">blowIv</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$round</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$encryptedBlock</span> <span class="o">=</span> <span class="nx">substr</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="mi">8</span> <span class="o">*</span> <span class="nv">$i</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$temp</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">xorBytes</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">decryptBlock</span><span class="p">(</span><span class="nv">$encryptedBlock</span><span class="p">),</span> <span class="nv">$currentVector</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$currentVector</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">xorBytes</span><span class="p">(</span><span class="nv">$currentVector</span><span class="p">,</span> <span class="nv">$encryptedBlock</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$result</span> <span class="o">.=</span> <span class="nv">$temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nv">$leftLength</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$currentVector</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryptBlock</span><span class="p">(</span><span class="nv">$currentVector</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$result</span> <span class="o">.=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">xorBytes</span><span class="p">(</span><span class="nx">substr</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="mi">8</span> <span class="o">*</span> <span class="nv">$i</span><span class="p">,</span> <span class="nv">$leftLength</span><span class="p">),</span> <span class="nv">$currentVector</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">function</span> <span class="nf">decryptTwelve</span><span class="p">(</span><span class="nv">$upperString</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$string</span> <span class="o">=</span> <span class="nx">hex2bin</span><span class="p">(</span><span class="nx">strtolower</span><span class="p">(</span><span class="nv">$upperString</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">openssl_decrypt</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="s1">&#39;AES-128-CBC&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aesKey</span><span class="p">,</span> <span class="nx">OPENSSL_RAW_DATA</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">aesIv</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//需要指定navacat版本两种，11或12
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$navicatPassword</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NavicatPassword</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//解密，括号里面写入navicat加密后的密码
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$decode</span> <span class="o">=</span> <span class="nv">$navicatPassword</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span><span class="s1">&#39;E75BF077AB8BAA3AC2D5&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">echo</span> <span class="nv">$decode</span><span class="o">.</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="cp">?&gt;</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>点击执行之后，就会得到真实密码</li>
</ol>
]]></description>
</item><item>
    <title>mysql 笔记（2）</title>
    <link>https://test.jobcher.com/mysql02/</link>
    <pubDate>Fri, 21 Jan 2022 00:00:00 &#43;0000</pubDate>
    <author>作者</author>
    <guid>https://test.jobcher.com/mysql02/</guid>
    <description><![CDATA[<h1 id="mysql-学习笔记2">mysql 学习笔记（2）</h1>
<h2 id="mysql-主从复制">mysql 主从复制</h2>
<p><code>MySQL 主从复制是指数据可以从一个MySQL数据库服务器主节点复制到一个或多个从节点。</code>MySQL 默认采用<code>异步复制</code>方式，这样从节点不用一直访问主服务器来更新自己的数据，数据的更新可以在远程连接上进行，从节点可以复制主数据库中的所有数据库或者特定的数据库，或者特定的表。</p>
<h2 id="mysql-主从复制的主要用途">MySQL 主从复制的主要用途</h2>
<ol>
<li>读写分离</li>
<li>数据实时备份，当系统中某个节点发生故障时，可以方便的故障切换(主从切换)</li>
<li>高可用（HA）</li>
<li>架构扩展</li>
</ol>
<h2 id="mysql-主从复制的原理">MySQL 主从复制的原理</h2>
<p>MySQL 主从复制涉及到三个线程，一个运行在主节点（log dump thread），其余两个(I/O thread, SQL thread)运行在从节点，如下图所示:<br>
</p>
<ol>
<li>
<p>主节点 log dump 线程<br>
当从节点连接主节点时，主节点会为其创建一个 log dump 线程，用于发送和读取 bin-log 的内容。在读取 bin-log 中的操作时，log dump 线程会对主节点上的 bin-log 加锁，当读取完成，在发送给从节点之前，锁会被释放。<code>主节点会为自己的每一个从节点创建一个log dump 线程</code>。</p>
</li>
<li>
<p>从节点 I/O 线程<br>
当从节点上执行<code>start slave</code>命令之后，从节点会创建一个 I/O 线程用来连接主节点，请求主库中更新的 bin-log。I/O 线程接收到主节点的 blog dump 进程发来的更新之后，保存在本地<code>relay-log（中继日志）</code>中。</p>
</li>
<li>
<p>从节点 SQL 线程<br>
SQL 线程负责读取 relay-log 中的内容，解析成具体的操作并执行，最终保证主从数据的一致性。<br>
对于每一个主从连接，都需要这三个进程来完成。当主节点有多个从节点时，主节点会为每一个当前连接的从节点建一个<code>log dump 进程</code>，而每个从节点都有自己的<code>I/O进程，SQL进程</code>。从节点用两个线程将从主库拉取更新和执行分成独立的任务，这样在执行同步数据任务的时候，不会降低读操作的性能。比如，如果从节点没有运行，此时 I/O 进程可以很快从主节点获取更新，尽管 SQL 进程还没有执行。如果在 SQL 进程执行之前从节点服务停止，至少 I/O 进程已经从主节点拉取到了最新的变更并且保存在本地 relay 日志中，当服务再次起来之后，就可以完成数据的同步。<br>
要实施复制，首先<code>必须打开Master 端的binary log（bin-log）功能，否则无法实现。</code></p>
</li>
</ol>
]]></description>
</item><item>
    <title>mysql数据库备份迁移</title>
    <link>https://test.jobcher.com/mysqldump/</link>
    <pubDate>Fri, 24 Dec 2021 00:00:00 &#43;0000</pubDate>
    <author>作者</author>
    <guid>https://test.jobcher.com/mysqldump/</guid>
    <description><![CDATA[<h1 id="mysql-数据库备份迁移">mysql 数据库备份迁移</h1>
<p>使用 mydumper 做数据备份迁移</p>
<h2 id="备份数据库">备份数据库</h2>
<ol>
<li>安装</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 安装 centos</span>
</span></span><span class="line"><span class="cl">yum install https://github.com/mydumper/mydumper/releases/download/v0.11.5/mydumper-0.11.5-1.el7.x86_64.rpm
</span></span><span class="line"><span class="cl">yum install https://github.com/mydumper/mydumper/releases/download/v0.11.5/mydumper-0.11.5-1.el8.x86_64.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># 安装 ubuntu</span>
</span></span><span class="line"><span class="cl">apt-get install libatomic1
</span></span><span class="line"><span class="cl">wget https://github.com/mydumper/mydumper/releases/download/v0.11.5/mydumper_0.11.5-1.<span class="k">$(</span>lsb_release -cs<span class="k">)</span>_amd64.deb
</span></span><span class="line"><span class="cl">dpkg -i mydumper_0.11.5-1.<span class="k">$(</span>lsb_release -cs<span class="k">)</span>_amd64.deb
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>备份</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">nohup mydumper -h <span class="s1">&#39;备份数据库&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-u <span class="s1">&#39;用户名&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-p <span class="s1">&#39;密码&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--threads<span class="o">=</span><span class="m">16</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-B 备份数据库 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-v <span class="m">3</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--outputdir<span class="o">=</span>./backup --rows<span class="o">=</span><span class="m">100000</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-L mydumper-logs.log <span class="p">&amp;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="迁移数据库">迁移数据库</h2>
<ol>
<li>还原数据</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">nohup myloader -h <span class="s1">&#39;迁移数据库&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-u <span class="s1">&#39;用户名&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-p <span class="s1">&#39;密码&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--directory<span class="o">=</span>./backup <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-s 来源数据库 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-B 还原数据库 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-t <span class="m">16</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-v <span class="m">3</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-e 2&gt;myloader-logs.log <span class="p">&amp;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mydumpermyloader-参数">mydumper/myloader 参数</h2>
<ol>
<li>mydumper</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  mydumper <span class="o">[</span>OPTION...<span class="o">]</span> multi-threaded MySQL dumping
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Help Options:
</span></span><span class="line"><span class="cl">  -?, --help                  Show <span class="nb">help</span> options
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Application Options:
</span></span><span class="line"><span class="cl">  -B, --database              需要备份的数据库，一个数据库一条命令备份，要不就是备份所有数据库，包括mysql。
</span></span><span class="line"><span class="cl">  -T, --tables-list           需要备份的表，用逗号分隔。
</span></span><span class="line"><span class="cl">  -o, --outputdir             备份文件目录
</span></span><span class="line"><span class="cl">  -s, --statement-size        生成插入语句的字节数，默认1000000，这个参数不能太小，不然会报 Row bigger than statement_size <span class="k">for</span> tools.t_serverinfo
</span></span><span class="line"><span class="cl">  -r, --rows                  试图用行块来分割表，该参数关闭--chunk-filesize
</span></span><span class="line"><span class="cl">  -F, --chunk-filesize        行块分割表的文件大小，单位是MB
</span></span><span class="line"><span class="cl">  -c, --compress              压缩输出文件
</span></span><span class="line"><span class="cl">  -e, --build-empty-files     即使表没有数据，也产生一个空文件
</span></span><span class="line"><span class="cl">  -x, --regex                 正则表达式匹配，如<span class="s1">&#39;db.table&#39;</span>
</span></span><span class="line"><span class="cl">  -i, --ignore-engines        忽略的存储引擎，用逗号分隔
</span></span><span class="line"><span class="cl">  -m, --no-schemas            不导出表结构
</span></span><span class="line"><span class="cl">  -d, --no-data               不导出表数据
</span></span><span class="line"><span class="cl">  -G, --triggers              导出触发器
</span></span><span class="line"><span class="cl">  -E, --events                导出事件
</span></span><span class="line"><span class="cl">  -R, --routines              导出存储过程
</span></span><span class="line"><span class="cl">  -k, --no-locks              不执行共享读锁 警告：这将导致不一致的备份
</span></span><span class="line"><span class="cl">  --less-locking              减到最小的锁在innodb表上.
</span></span><span class="line"><span class="cl">  -l, --long-query-guard      设置长查询时间,默认60秒，超过该时间则会报错：There are queries in PROCESSLIST running longer than 60s, aborting dump
</span></span><span class="line"><span class="cl">  -K, --kill-long-queries kill掉长时间执行的查询，备份报错：Lock <span class="nb">wait</span> timeout exceeded<span class="p">;</span> try restarting transaction
</span></span><span class="line"><span class="cl">  -D, --daemon                启用守护进程模式
</span></span><span class="line"><span class="cl">  -I, --snapshot-interval     dump快照间隔时间，默认60s，需要在daemon模式下
</span></span><span class="line"><span class="cl">  -L, --logfile               使用日志文件，默认标准输出到终端
</span></span><span class="line"><span class="cl">  --tz-utc                    备份的时候允许备份Timestamp，这样会导致不同时区的备份还原会出问题，默认关闭，参数：--skip-tz-utc to disable.
</span></span><span class="line"><span class="cl">  --skip-tz-utc
</span></span><span class="line"><span class="cl">  --use-savepoints            使用savepoints来减少采集metadata所造成的锁时间，需要SUPER权限
</span></span><span class="line"><span class="cl">  --success-on-1146           Not increment error count and Warning instead of Critical in <span class="k">case</span> of table doesn<span class="err">&#39;</span>t exist
</span></span><span class="line"><span class="cl">  --lock-all-tables           锁全表，代替FLUSH TABLE WITH READ LOCK
</span></span><span class="line"><span class="cl">  -U, --updated-since         Use Update_time to dump only tables updated in the last U days
</span></span><span class="line"><span class="cl">  --trx-consistency-only      Transactional consistency only
</span></span><span class="line"><span class="cl">  -h, --host                  The host to connect to
</span></span><span class="line"><span class="cl">  -u, --user                  Username with privileges to run the dump
</span></span><span class="line"><span class="cl">  -p, --password              User password
</span></span><span class="line"><span class="cl">  -P, --port                  TCP/IP port to connect to
</span></span><span class="line"><span class="cl">  -S, --socket                UNIX domain socket file to use <span class="k">for</span> connection
</span></span><span class="line"><span class="cl">  -t, --threads               备份执行的线程数,默认4个线程
</span></span><span class="line"><span class="cl">  -C, --compress-protocol     在mysql连接上使用压缩协议
</span></span><span class="line"><span class="cl">  -V, --version               Show the program version and <span class="nb">exit</span>
</span></span><span class="line"><span class="cl">  -v, --verbose               更多输出, <span class="nv">0</span> <span class="o">=</span> silent, <span class="nv">1</span> <span class="o">=</span> errors, <span class="nv">2</span> <span class="o">=</span> warnings, <span class="nv">3</span> <span class="o">=</span> info, default <span class="m">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>myloader</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  myloader <span class="o">[</span>OPTION...<span class="o">]</span> multi-threaded MySQL loader
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Help Options:
</span></span><span class="line"><span class="cl">  -?, --help                        Show <span class="nb">help</span> options
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Application Options:
</span></span><span class="line"><span class="cl">  -d, --directory                   备份文件所在的目录
</span></span><span class="line"><span class="cl">  -q, --queries-per-transaction     每个事务的query数量, 默认1000
</span></span><span class="line"><span class="cl">  -o, --overwrite-tables            如果表存在则先删除，使用该参数，需要备份时候要备份表结构，不然还原会找不到表
</span></span><span class="line"><span class="cl">  -B, --database                    指定需要还原的数据库
</span></span><span class="line"><span class="cl">  -s, --source-db                   还原的数据库
</span></span><span class="line"><span class="cl">  -e, --enable-binlog               启用二进制日志恢复数据
</span></span><span class="line"><span class="cl">  -h, --host                        The host to connect to
</span></span><span class="line"><span class="cl">  -u, --user                        Username with privileges to run the dump
</span></span><span class="line"><span class="cl">  -p, --password                    User password
</span></span><span class="line"><span class="cl">  -P, --port                        TCP/IP port to connect to
</span></span><span class="line"><span class="cl">  -S, --socket                      UNIX domain socket file to use <span class="k">for</span> connection
</span></span><span class="line"><span class="cl">  -t, --threads                     使用的线程数量，默认4
</span></span><span class="line"><span class="cl">  -C, --compress-protocol           连接上使用压缩协议
</span></span><span class="line"><span class="cl">  -V, --version                     Show the program version and <span class="nb">exit</span>
</span></span><span class="line"><span class="cl">  -v, --verbose                     更多输出, <span class="nv">0</span> <span class="o">=</span> silent, <span class="nv">1</span> <span class="o">=</span> errors, <span class="nv">2</span> <span class="o">=</span> warnings, <span class="nv">3</span> <span class="o">=</span> info, default <span class="m">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title>mysql 笔记（1）</title>
    <link>https://test.jobcher.com/mysql01/</link>
    <pubDate>Sun, 12 Dec 2021 00:00:00 &#43;0000</pubDate>
    <author>作者</author>
    <guid>https://test.jobcher.com/mysql01/</guid>
    <description><![CDATA[<h1 id="mysql-学习笔记1">mysql 学习笔记（1）</h1>
<p>本文章不涉及到关于 mysql 开放上的问题，主要记录关于 mysql 出现的问题，以及如何去维护 mysql 数据的日常。</p>
<h2 id="mysql-各类信息的收集">mysql 各类信息的收集</h2>
<ol>
<li>收集变量信息</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">variables</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>收集进程信息</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="n">PROCESSLIST</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>收集错误日志</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;log_error&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>收集慢日志信息</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;slow_querry_log_file&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>收集锁信息，高峰时期运行三次，每次间隔 10s</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w">  </span><span class="n">locked_table</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">locked_index</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">locked_type</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">blocking_pid</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">T2</span><span class="p">.</span><span class="k">USER</span><span class="w">  </span><span class="n">blocking_user</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">T2</span><span class="p">.</span><span class="k">HOST</span><span class="w"> </span><span class="n">blocking_host</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">blocking_lock_mode</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">blocking_trx_rows_modified</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">waiting_pid</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">T3</span><span class="p">.</span><span class="k">USER</span><span class="w"> </span><span class="n">waiting_user</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">T3</span><span class="p">.</span><span class="k">HOST</span><span class="w"> </span><span class="n">waiting_host</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">waiting_lock_mode</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">waiting_trx_row_modified</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">wait_age_secs</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">waiting_query</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">sys</span><span class="p">.</span><span class="n">x$innodb_lock_waits</span><span class="w"> </span><span class="n">T1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">INFROMATION_SCHEMA</span><span class="p">.</span><span class="n">processlist</span><span class="w"> </span><span class="n">T2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">T1</span><span class="p">.</span><span class="n">blocking_pid</span><span class="o">=</span><span class="n">T2</span><span class="p">.</span><span class="n">ID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">INFROMATION_SCHEMA</span><span class="p">.</span><span class="n">processlist</span><span class="w"> </span><span class="n">T3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">T3</span><span class="p">.</span><span class="n">ID</span><span class="o">=</span><span class="n">T1</span><span class="p">.</span><span class="n">waiting_pid</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>收集 mysql 状态信息</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">show</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="n">innodb</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="n">innodb</span><span class="w"> </span><span class="n">mutex</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mysql-基础语法">mysql 基础语法</h2>
<ol>
<li>连接数据库</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">mysql</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="o">&lt;</span><span class="err">用户名</span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>创建数据库</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据库名称</span><span class="o">&gt;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>删除数据库</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">drop</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据库名称</span><span class="o">&gt;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>选择数据库</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">use</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据库名称</span><span class="o">&gt;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>创建表</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据表名</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">&lt;</span><span class="err">字段名</span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据类型</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="err">约束条件</span><span class="p">],</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">&lt;</span><span class="err">字段名</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据类型</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="err">约束条件</span><span class="p">],</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">&lt;</span><span class="err">字段名</span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据类型</span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="err">约束条件</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">#</span><span class="err">例如</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="o">`</span><span class="n">nbtyfood_tbl</span><span class="o">`</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="o">`</span><span class="n">nbtyfood_id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="o">`</span><span class="n">nbtyfood_title</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="o">`</span><span class="n">nbtyfood_author</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="o">`</span><span class="n">submission_date</span><span class="o">`</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">`</span><span class="n">nbtyfood_id</span><span class="o">`</span><span class="w"> </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>删除表</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据表名</span><span class="o">&gt;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="7">
<li>插入数据</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">field1</span><span class="p">,</span><span class="w"> </span><span class="n">field2</span><span class="p">,...</span><span class="n">fieldN</span><span class="w"> </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">VALUES</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">value1</span><span class="p">,</span><span class="w"> </span><span class="n">value2</span><span class="p">,...</span><span class="n">valueN</span><span class="w"> </span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="8">
<li>更新数据</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">UPDATE</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据表名</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">&lt;</span><span class="err">字段名</span><span class="mi">1</span><span class="o">&gt;=</span><span class="s1">&#39;更新&#39;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">&lt;</span><span class="err">字段名</span><span class="mi">2</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="9">
<li>删除数据</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据表名</span><span class="o">&gt;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">&lt;</span><span class="err">字段名</span><span class="mi">2</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="10">
<li>查询数据</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="o">&lt;</span><span class="err">数据表名</span><span class="o">&gt;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item></channel>
</rss>
